<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì œì¡° ê´€ë¦¬ í†µí•© ì‹œìŠ¤í…œ</title>
    <script src="https://www.gstatic.com/firebasejs/9.x.x/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.x.x/firebase-database-compat.js"></script>
    <style>
        body { font-family: sans-serif; background-color: #f4f4f4; padding: 20px; }
        .container { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .nav-tabs { display: flex; gap: 10px; margin-bottom: 20px; }
        .nav-tabs button { padding: 10px 20px; cursor: pointer; border: none; background: #ddd; border-radius: 5px; }
        .nav-tabs button.active { background: #007bff; color: white; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #ddd; padding: 10px; text-align: center; }
        th { background: #f8f9fa; }
        .low-stock { background-color: #ffcccc; color: #d9534f; font-weight: bold; }
        .progress-bar { background: #eee; border-radius: 5px; height: 10px; width: 100px; margin: 0 auto; }
        .progress-fill { background: #28a745; height: 100%; border-radius: 5px; }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸš€ ì œì¡°/ì¬ê³  í†µí•© ê´€ë¦¬ ì‹œìŠ¤í…œ</h2>
    
    <div class="nav-tabs">
        <button onclick="openTab('sa-geup')" id="btn-sa-geup" class="active">ì‚¬ê¸‰ìì¬ ê´€ë¦¬</button>
        <button onclick="openTab('inventory')" id="btn-inventory">ì‚¬ë‚´ ì¬ê³  ê´€ë¦¬</button>
    </div>

    <div id="sa-geup" class="tab-content active">
        <h3>í”„ë¡œì íŠ¸ë³„ ì‚¬ê¸‰ìì¬ ì§„í–‰ í˜„í™©</h3>
        <table>
            <thead>
                <tr>
                    <th>í”„ë¡œì íŠ¸ëª…</th>
                    <th>ì…ê³  ìƒíƒœ</th>
                    <th>ì§„í–‰ë¥ </th>
                    <th>ë¹„ê³ </th>
                    <th>ê´€ë¦¬</th>
                </tr>
            </thead>
            <tbody id="sageup-body">
                </tbody>
        </table>
    </div>

    <div id="inventory" class="tab-content">
        <h3>ì‚¬ë‚´ ë¶€í’ˆ ì¬ê³  í˜„í™© (Safety Stock ê¸°ì¤€)</h3>
        <table>
            <thead>
                <tr>
                    <th>í’ˆëª© ë¶„ë¥˜</th>
                    <th>í’ˆëª…/ê·œê²©</th>
                    <th>í˜„ì¬ê³ </th>
                    <th>ì•ˆì „ì¬ê³ </th>
                    <th>ìƒíƒœ</th>
                    <th>ê´€ë¦¬</th>
                </tr>
            </thead>
            <tbody id="inventory-body">
                </tbody>
        </table>
    </div>
</div>

<script>
    // íƒ­ ì „í™˜ ë¡œì§
    function openTab(tabName) {
        document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
        document.querySelectorAll('.nav-tabs button').forEach(btn => btn.classList.remove('active'));
        document.getElementById(tabName).classList.add('active');
        document.getElementById('btn-' + tabName).classList.add('active');
    }

    // [ì‚¬ê¸‰ìì¬] ì§„í–‰ë¥  ë Œë”ë§ í•¨ìˆ˜
    function getProgressHtml(current, total) {
        const percent = total > 0 ? Math.round((current / total) * 100) : 0;
        return `
            <div>${percent}%</div>
            <div class="progress-bar"><div class="progress-fill" style="width: ${percent}%"></div></div>
        `;
    }

    // [ì¬ê³ ] ì•ˆì „ì¬ê³  ì²´í¬ ë Œë”ë§ í•¨ìˆ˜
    function checkStockLevel(current, safety) {
        if (current <= safety) {
            return `<span class="low-stock">âš ï¸ ì¬ê³ ë¶€ì¡±</span>`;
        }
        return `<span style="color: green;">ì •ìƒ</span>`;
    }

    // ìƒ˜í”Œ ë°ì´í„° ë¡œë“œ ë° ë Œë”ë§ (Firebase ì—°ë™ ë¶€ë¶„ì€ ê¸°ì¡´ ì„¤ì •ê°’ ìœ ì§€ í•„ìš”)
    function renderTables() {
        // ì‚¬ê¸‰ìì¬ ìƒ˜í”Œ
        const sageupData = [{ name: 'Aì‚¬ í”„ë¡œì íŠ¸', in: 8, total: 10, note: 'ìŠ¬ë¦¬ë¸Œ ì…ê³ ëŒ€ê¸°' }];
        let sageupHtml = '';
        sageupData.forEach(item => {
            sageupHtml += `<tr>
                <td>${item.name}</td>
                <td>${item.in} / ${item.total}</td>
                <td>${getProgressHtml(item.in, item.total)}</td>
                <td>${item.note}</td>
                <td><button onclick="deleteItem()">ì‚­ì œ</button></td>
            </tr>`;
        });
        document.getElementById('sageup-body').innerHTML = sageupHtml;

        // ì‚¬ë‚´ì¬ê³  ìƒ˜í”Œ
        const invData = [{ cat: 'CABLE', spec: 'AWG24 Black', stock: 50, safety: 100 }];
        let invHtml = '';
        invData.forEach(item => {
            invHtml += `<tr>
                <td>${item.cat}</td>
                <td>${item.spec}</td>
                <td>${item.stock}</td>
                <td>${item.safety}</td>
                <td>${checkStockLevel(item.stock, item.safety)}</td>
                <td><button>ìˆ˜ì •</button> <button>ì‚­ì œ</button></td>
            </tr>`;
        });
        document.getElementById('inventory-body').innerHTML = invHtml;
    }

    window.onload = renderTables;
</script>
</body>
</html>
